## Scripts python
Some of the scripts may be run with `-h` or `--help` as first argument to display some information.

### make*.py
Generate files pointclouds/snowman.pcd, pointclouds/nuclei.pcd, pointclouds/beads.pcd, and the corresponding files metadata/snowman.meta, metadata/nuclei.meta, metadata/beads.meta

Must be run from the project root folder, because paths of output files are given relative to root folder.

Example:
~~~~
cd ..
python3 makepointcloud/makeNuclei.py
~~~~

### dig_hole.py
Read a pcd file and write a new pcd file with the same cloud, minus all points in a rectangular parallelepiped. Does not write the corresponding metadata file. The point cloud must be "unorganized", i.e. the value of "HEIGHT" in the header of the pcd file must be 1.

Example: read the pointcloud `nuclei.pcd`, filter out points in the cubic box [0,3]\*[0,3]\*[0,3], and write the resulting point cloud to `nuclei_hole.pcd`.
~~~~
python3 makepointcloud/dig_hole.py ../pointclouds/nuclei.pcd ../pointclouds/nuclei_hole.pcd 3 3 3
~~~~

### apply_transform.py
Read a pcd file and write a new pcd file with the same cloud, after applying a rotation or a transformation matrix.

Example: read `nuclei.pcd`, apply the rotation of angle pi in the plane xy, and write result to `nuclei_rotated.pcd`
~~~~
python3 makepointcloud/apply_transform.py ../pointclouds/nuclei.pcd ../pointclouds/nuclei_rotated.pcd 3.1416
~~~~

### thin_cloud.py
Read a pcd file and write a new pcd file with the same cloud, after removing every 2 out of 3 points.

### shuffle.py
Read a pcd file and write a new pcd file with the same cloud, but with the points listed in a random order.

The registration algorithm should not be sensible to this shuffling.

### show_pcd_file.py
Visualize a 3d point cloud from a pcd file.

### normofdifference_44matrix.py
Print the 2-norm of the difference of two 4x4 matrices presented in csv format.

### comparecsv.py
Very roughly calculate similarity between csv files.

### display_scores.py
Display a scatterplot from the text file generated by ../tests/frankwolfe/test_metricisgood.cpp

Each point (c, s) in the scatterplot is the score s = x^T D x of a permutation matrix x obtained by composing c random transpositions (i,j).

D is a matrix that "contains" the vertex similarity matrix and the edge similarity matrix between two graphs, so that x^T D x is the score of permutation x when matching the two graphs. Note that in the expression x^T D x, x is the vector obtained by concatenating all the rows of matrix x. For a more precise description of D, refer to the article by Huang (reference (1) in ../README.md).

The graphs used in ../tests/frankwolfe/test_metricisgood.cpp are two copies of the same graph, the graph generated for ../metadata/big1.meta ; hence the best permutation matrix is the identity matrix (corresponding to c = 0 in the scatterplot).

This scatterplot shows that the objective function x^T D x used for the graph matching algorithm is indeed highed for intuitively better permutations.

### reorder_sim_matrix.py
Take the similarity matrix between two graphs, plus the permutation matrix resulting from a graph matching algorithm. Apply the permutation to the columns of the similarity matrix to reflect the matching.
